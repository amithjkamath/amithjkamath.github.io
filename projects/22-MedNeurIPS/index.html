<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> 22 Medneurips | Amith J. Kamath </title> <meta name="author" content="Amith J. Kamath"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="machine learning, research, technology, programming, personal website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%94%AC&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://amithjkamath.github.io/projects/22-MedNeurIPS/"> <script src="/assets/js/theme.js?8b41c6655447a9d3cb749cb128197759"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Amith</span> J. Kamath </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/news/">Updates </a> </li> <li class="nav-item "> <a class="nav-link" href="/contact/">Contact </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">more </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">Publications</a> <a class="dropdown-item " href="/service/">Service</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">22 Medneurips</h1> <p class="post-description"></p> </header> <article> <div class="text-center mt-5"> <h1 class="display-4 mb-4">How do 3D image segmentation networks behave across the context versus foreground ratio trade-off?</h1> <div class="authors mb-3"> <span>Amith Kamath<sup>1</sup></span>, <span>Yannick Suter<sup>1</sup></span>, <span>Suhang You<sup>1</sup></span>, <span>Michael Mueller<sup>1</sup></span>, <span>Jonas Willmann<sup>1,2</sup></span>, <span>Nicolaus Andratschke<sup>2</sup></span>, <span>Mauricio Reyes<sup>1</sup></span> </div> <div class="affiliations mb-4"> <p><sup>1</sup>University of Bern, <sup>2</sup>University Hospital Zurich</p> </div> <div class="publication-links mb-5"> <a href="http://www.cse.cuhk.edu.hk/~qdou/public/medneurips2022/72.pdf" class="btn btn-primary btn-sm" target="_blank" rel="external nofollow noopener"> <i class="fas fa-file-pdf"></i> Paper </a> <a href="https://github.com/amithjkamath/context_vs_fbr" class="btn btn-dark btn-sm" target="_blank" rel="external nofollow noopener"> <i class="fab fa-github"></i> Code </a> </div> <p class="text-muted"><em>Medical Imaging meets NeurIPS Workshop, NeurIPS 2022</em></p> </div> <hr> <h2 id="abstract">Abstract</h2> <p>This work investigates a fundamental trade-off in 3D medical image segmentation: balancing global context against foreground-to-background ratio when using sliding window approaches due to GPU memory constraints. While larger context windows provide more global information, they also introduce severe class imbalance between background and foreground voxels.</p> <p>We present the <strong>first systematic study</strong> analyzing how vanilla U-Net, Attention U-Net, and UNETR architectures behave across this trade-off spectrum. Our experiments reveal that all architectures consistently favor larger context windows over balanced class ratios, and that attention-based models are less robust to distribution shifts in foreground ratios compared to traditional CNNs.</p> <div class="row mt-4 mb-4"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/medneurips-context-vs-fbr-idea-480.webp 480w,/assets/img/medneurips-context-vs-fbr-idea-800.webp 800w,/assets/img/medneurips-context-vs-fbr-idea-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/medneurips-context-vs-fbr-idea.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Context versus foreground-to-background ratio trade-off in 3D medical image segmentation. </div> <h2 id="introduction">Introduction</h2> <p>3D medical image segmentation networks face a fundamental constraint: GPU memory limitations require processing images through sliding windows rather than whole volumes. This constraint introduces a critical trade-off—larger windows provide more spatial context but dramatically increase the ratio of background to foreground voxels, leading to severe class imbalance.</p> <p>Despite the ubiquity of this trade-off in clinical applications, its systematic investigation has been missing from the literature. How do different network architectures navigate this balance? Is global context more important than class balance? Are attention mechanisms and transformer architectures equally robust to these variations?</p> <p>Our study addresses these questions through controlled experiments on both synthetic and real medical imaging data, providing practical guidance for designing segmentation pipelines under memory constraints.</p> <h2 id="methods">Methods</h2> <h3 id="experimental-design">Experimental Design</h3> <p>We designed controlled experiments to systematically isolate the effects of context window size and foreground ratio. Our approach combines:</p> <p><strong>Synthetic Dataset:</strong> Texture-based synthetic volumes allowing precise control over both context and foreground ratio independently, ensuring we can attribute performance changes to specific factors.</p> <p><strong>Real Medical Data:</strong> Spleen segmentation from the Medical Segmentation Decathlon to validate that synthetic insights translate to clinical scenarios.</p> <p><strong>Architecture Coverage:</strong> Vanilla U-Net (pure CNN), Attention U-Net (CNN with attention), and UNETR (Transformer-based) representing the spectrum of 3D segmentation approaches.</p> <h3 id="evaluation-protocol">Evaluation Protocol</h3> <p>We systematically varied context window sizes and foreground ratios, evaluating each network’s performance across this 2D trade-off space. Additionally, we conducted robustness testing by training on one foreground ratio distribution and testing on others, simulating clinical distribution shifts.</p> <h2 id="results">Results</h2> <h3 id="main-findings">Main Findings</h3> <p><strong>Context Wins Over Balance:</strong> All three network types consistently favor larger context windows over balanced class ratios, suggesting that spatial information outweighs class imbalance challenges. This finding held across both synthetic and real medical imaging datasets.</p> <p><strong>Architecture-Specific Robustness:</strong> UNETR and Attention U-Net showed greater sensitivity to foreground ratio variations compared to vanilla U-Net. While attention mechanisms and transformers may offer superior performance under ideal conditions, they are more vulnerable to distribution shifts.</p> <p><strong>Performance Trade-offs:</strong> Optimal performance requires careful balance between sufficient context and manageable class imbalance, particularly under GPU memory constraints.</p> <h3 id="practical-guidelines">Practical Guidelines</h3> <p>For practitioners designing segmentation pipelines:</p> <ul> <li>Prioritize larger context windows when facing memory constraints</li> <li>Consider vanilla U-Net for scenarios with expected distribution shifts</li> <li>Use attention-based models when training and test distributions are well-matched</li> </ul> <h2 id="conclusion">Conclusion</h2> <p>This work provides the first systematic analysis of the context versus foreground ratio trade-off in 3D medical segmentation. Our findings challenge conventional wisdom about class balance importance, demonstrating that spatial context consistently provides greater value across architectures.</p> <p>Importantly, we reveal robustness differences between architectures that have practical implications for clinical deployment. These insights provide concrete guidance for practitioners designing segmentation systems under real-world constraints.</p> <hr> <h2 id="citation">Citation</h2> <div class="language-bibtex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">@inproceedings</span><span class="p">{</span><span class="nl">kamath2022contextvsfbr</span><span class="p">,</span>
    <span class="na">title</span><span class="p">=</span><span class="s">{How do 3D image segmentation networks behave across the context versus foreground ratio trade-off?}</span><span class="p">,</span>
    <span class="na">author</span><span class="p">=</span><span class="s">{Kamath, Amith and Suter, Yannick and You, Suhang and Mueller, Michael and Willmann, Jonas and Andratschke, Nicolaus and Reyes, Mauricio}</span><span class="p">,</span>
    <span class="na">booktitle</span><span class="p">=</span><span class="s">{Medical Imaging Meets NeurIPS Workshop, Neural Information Processing Systems}</span><span class="p">,</span>
    <span class="na">year</span><span class="p">=</span><span class="s">{2022}</span><span class="p">,</span>
    <span class="na">howpublished</span><span class="p">=</span><span class="s">{\url{http://www.cse.cuhk.edu.hk/~qdou/public/medneurips2022/72.pdf}}</span>
<span class="p">}</span>
</code></pre></div></div> </article> <h2>References</h2> <div class="publications"> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 Amith J. Kamath. All rights reserved. Last updated: February 14, 2026. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?53e06e0b9f83390998a97801c1150d7a"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>